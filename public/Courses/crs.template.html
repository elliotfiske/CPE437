<div class="container-white">
  <div class="row">
    <h1>{{ courseName }}</h1>
    <div class="col-xs-6"><h1>Current streak: 5</h1></div>
    <div class="col-xs-6"><h1>Points: 50</h1></div>
  </div>

  <div class="row">
    <uib-accordion close-others="false">
      <uib-accordion-group  ng-repeat="week in weeks" id="test1"
      class="list-group accordion-list-fix panel panel-success {{week.stateClass}}"
      is-open="weekStatuses[$index].open" is-disabled="week.stateClass == 'week-disabled'"
      >
        <uib-accordion-heading>
          <i class="pull-left glyphicon"
          ng-class="{'glyphicon-ok' : week.stateClass == 'week-complete', 'glyphicon-alert' : week.stateClass == 'week-open', 'week-disabled' : week.stateClass == 'week-disabled'}"></i>
          Week {{$index + 1}}
          <i class="pull-right glyphicon" ng-class="{'glyphicon-chevron-down': weekStatuses[$index].open, 'glyphicon-chevron-right': !weekStatuses[$index].open}"></i>
        </uib-accordion-heading>
        <a ng-repeat="challenge in week.Challenges" ng-click="viewChallenge(challenge.sanitizedName)" class="list-group-item" ng-class="challenge.stateClass">
          {{challenge.name}}
          <i class="pull-left glyphicon chl-status"
          ng-class="{'glyphicon-ok': challenge.stateClass == 'chl-solved', 'glyphicon-alert' : challenge.stateClass == 'chl-overdue' || challenge.stateClass == 'chl-open'}"></i>
          <span ng-show="challenge.Attempts[0].pointsEarned > 0" class="badge pull-right">+{{challenge.Attempts[0].pointsEarned}}</span>
        </a>
      </uib-accordion-group>
    </uib-accordion>
  </div>

  <div class="row">
    <div class="col-sm-12" ng-show="loggedUser.role >= 1">
      <h2>Enrollments</h2>
      <hr />

      <div class="list-group">
        <a href="#" class="list-group-item disabled">
          Students
        </a>
        <a class="list-group-item" ng-repeat="enr in enrs">
          <button class="btn btn-small btn-warning pull-right" ng-click="deleteEnrollment(enr.enrId)">Delete</button>
          {{ enr.email }}
        </a>
        <a class="list-group-item">
          <form>
            <button type="submit" class="btn btn-small btn-primary pull-right" ng-click="addEnrollment()">Enroll</button>
            <input type="text" placeholder="Student email" ng-model="email" style="width: 150px" />
            <h4 class="bg-danger" ng-repeat="error in errors" style="padding: 10px;">
              {{ error }}
            </h4>
          </form>
        </a>
      </div>
    </div>
  </div>

  <div class="row">
    <div class="col-xs-12">
      <h2>New Challenge</h2>
    </div>
    <div class="col-xs-3 col-xs-offset-3">
      <button type="button" class="btn btn-large btn-primary pull-right" ng-click="createChallenge()">Create!</button>
    </div>
  </div>
</div>
